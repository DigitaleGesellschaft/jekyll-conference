{% include header.html %}

  {% assign speaker = page %}

  <h1>SprecherIn: {{ speaker.name }}</h1>

  {{ content }}

  &nbsp;
  <h5>Vorträge an dieser Konferenz:</h5>
  <p>
    <ul>
      {% assign no_talks = true %}
      {% for talk in site.talks %}
        {% assign is_speaker = false %}
        {% for speaker_name in talk.speakers %}
          {% if speaker_name == speaker.name %}
            {% assign is_speaker = true %}
            {% break %}
          {% endif %}
        {% endfor %}

        {% if is_speaker %}
          {% assign no_talks = false %}

          {% assign categories = site.talks | map: 'category' | uniq | sort %}
          {% assign category_id = 0 %} <!-- default color -->
          {% for category in categories %}
            {% if category == talk.category %}
              {% assign category_id = forloop.index %}
              {% break %}
            {% endif %}
          {% endfor %}

          <li>
            <a href="{{ site.url }}{{ talk.url }}">{{ talk.name }}</a>
            &nbsp;
            <span class="badge" style="background-color: {{ site.category_colors[category_id] }};">{{ talk.category }}</span>
          </li>

        {% endif %}

      {% endfor %}
      {% if no_talks %}
        <li>
          <em>keine</em>
        </li>
      {% endif %}
    </ul>

  </p>

  &nbsp;
  <p>
    <a href="{{ site.url }}{% link speakers/index.html %}">zurück zur Übersicht</a>
  </p>

{% include footer.html %}